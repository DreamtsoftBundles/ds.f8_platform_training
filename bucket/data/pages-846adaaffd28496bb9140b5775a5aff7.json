{
  "bucket_data" : {
    "pages" : {
      "846adaaffd28496bb9140b5775a5aff7" : {
        "created" : "1497315149801",
        "id" : "846adaaffd28496bb9140b5775a5aff7",
        "layout" : {
          "component_5aa05f2ab0a38c9b213e731f0587c8c4" : {
            "type" : "component",
            "component" : "markup",
            "id" : "component_5aa05f2ab0a38c9b213e731f0587c8c4",
            "name" : "component_5aa05f2ab0a38c9b213e731f0587c8c4",
            "page_loading" : false,
            "needs_subpage_target" : false,
            "attributes" : {
              "markdown" : "## Widget - Simple\n\n``` js\n<type>\n{\n\tname: \"widget_simple\",\n\tlabel: \"Simple widget\",\n\textend: \"string\"\n}\n</type>\n\n<script>\n\texports.widget = Widgets.create({\n\t\ttoWidget: function(value, displayValue) {\n\t\t\tthis.displayInput = $('<input/>', {\n\t\t\t\t\"type\": \"text\",\n\t\t\t\t\"value\": value,\n\t\t\t\t\"class\": \"form-control\"\n\t\t\t});\n\t\t\t\n\t\t\tthis.displayInput.on(\"change\", $.proxy(this.changed, this));\n\t\t\tthis.container.append(this.displayInput);\n\t\t\tthis.loaded();\n\t\t},\n\t\t\n\t\t_setValue: function(value, displayValue) {\n\t\t\tthis.displayInput.val(value);\n\t\t},\n\t\t\n\t\ttoValue: function() {\n\t\t\treturn this.displayInput.val();\n\t\t},\n\t\n\t\tclassName: \"WidgetSimple\"\n\t});\n</script>\n\n```",
              "component" : "markup",
              "html" : "",
              "id" : "70c97f8b2e37d9477290df6ab9928dc9",
              "type" : "markdown"
            },
            "w" : "100%",
            "h" : "33%"
          },
          "component_c9804e0c26cc18a6c5b2ec8d6a360590" : {
            "type" : "component",
            "component" : "markup",
            "id" : "component_c9804e0c26cc18a6c5b2ec8d6a360590",
            "name" : "component_c9804e0c26cc18a6c5b2ec8d6a360590",
            "page_loading" : false,
            "needs_subpage_target" : false,
            "attributes" : {
              "component" : "markup",
              "html" : "",
              "type" : "markdown",
              "id" : "740216249a5b3ea96ce10c2fded7412f",
              "markdown" : "## Widget - Info\n\n``` js\n<type>\n{\n\tname: \"info_widget\",\n\tlabel: \"Info widget\",\n\textend: \"string\"\n}\n</type>\n\n<attributes>\n\t[{\n\t  name: \"use_large\",\n\t  label: \"Use large\",\n\t  type: \"boolean\",\n\t  attributes: {\n\t  \tdefault: false\n\t  }\n\t}]\n</attributes>\n\n<attributes_layout>\n\t[\n\t\t\"use_large\"\n\t]\n</attributes_layout>\n\n<template name=\"widget.template\">\n\t<div class=\"form-inline input-group\">\n\t\t<div id='widgetBox' class=\"form-control\"></div>\n\t\t<span id='searcher' class=\"input-group-addon btn btn-default\">\n\t\t\t<span class=\"fa fa-dashboard\"></span>\n\t\t</span>\n\t</div>\n</template>\n\n<script>\n\texports.widget = Widgets.create({\n\t\ttoWidget: function(value, displayValue) {\n\t\t\tTemplates.evalAndAppend('info_widget/widget.template', this.container, { });\n\t\t\tthis.container.find('#searcher').on('click', $.proxy(this._searcher, this));\n\t\t\tthis.loaded();\n\t\t},\n\t\t\n\t\t_searcher: function() {\n\t\t\tthis.container.find('#widgetBox').html(\"abc123\");\n\t\t\tthis.currentValue = 'abc123';\n\t\t\tthis.changed();\n\t\t},\n\n\t\ttoValue: function() {\n\t\t\treturn this.currentValue;\n\t\t},\n\t\n\t\tclassName: \"WidgetInfo\"\n\t});\n</script>\n\n\n\n```"
            },
            "w" : "100%",
            "h" : "33%"
          },
          "__start__" : {
            "type" : "container",
            "w" : "100%",
            "h" : "100%",
            "contains" : [
              "component_5aa05f2ab0a38c9b213e731f0587c8c4",
              "component_c9804e0c26cc18a6c5b2ec8d6a360590",
              "component_c3e8c7aaa350a4373e82a8a1b6e61dc8"
            ],
            "layout_type" : "page_components"
          },
          "component_c3e8c7aaa350a4373e82a8a1b6e61dc8" : {
            "type" : "component",
            "component" : "markup",
            "id" : "component_c3e8c7aaa350a4373e82a8a1b6e61dc8",
            "name" : "component_c3e8c7aaa350a4373e82a8a1b6e61dc8",
            "page_loading" : false,
            "needs_subpage_target" : false,
            "attributes" : {
              "component" : "markup",
              "html" : "",
              "type" : "markdown",
              "id" : "0c3225cce1c97afc9ce2617e5dc52181",
              "markdown" : "## Widget - Boolean\n\n``` js\n<type>\n{\n\tname: \"boolean\",\n\tlabel: \"Boolean\",\n\tdata_size: 1,\n\tdefault_value: \"0\",\n\tdata_class: \"f8.data.types.TypeBoolean\"\n}\n</type>\n\n<doc>\n\tBoolean widget\n\n\tAttributes:\t\n\t\tuse_choice - Use a choice list with true/false instead of a checkbox\n\t\tdefault - Sets the default value\n</doc>\n\n<attributes>\n\t[{\n\t  name: \"use_choice\",\n\t  label: \"Use Dropdown\",\n\t  type: \"boolean\",\n\t  attributes: {\n\t  \tdefault: false\n\t  }\n\t},{\n\t  name: \"default\",\n\t  label: \"Default Value\",\n\t  type: \"choice\",\n\t  attributes: {\n\t    type: \"dropdown\",\n\t    choices: [{\n\t      label: \"False\",\n\t      value: \"false\"\n\t    },{\n\t      label: \"True\",\n\t      value: \"true\"\n\t    }],\n\t    default: false\n\t  }\n\t},{\n\t\tname: \"true_label\",\n\t\tlabel: \"True Label\",\n\t\ttype: \"string\",\n\t\tattributes: {\n\t\t\tplaceholder_text: \"True\"\n\t\t}\n\t},{\n\t\tname: \"false_label\",\n\t\tlabel: \"False Label\",\n\t\ttype: \"string\",\n\t\tattributes: {\n\t\t\tplaceholder_text: \"False\"\n\t\t}\n\t}]\n</attributes>\n\n<attributes_layout>\n\t[\n\t\t[[\"use_choice\", \"default\"], [\"true_label\", \"false_label\"]]\n\t]\n</attributes_layout>\n\n<style>\n\t:root {\n\t\t--checkbox-size: 20px;\n\t\t--checkbox-icon-size: 18px; /* needs to be checkbox-size - 2 to center,  2px accounts for the border on the button */\n\t}\n\n\t.checkbox-button {\n\t\tcolor: var(--color-darker);\n\t\tmargin-top: var(--spacing-vertical-lg);\n\t\tpadding: 0;\n\t\twidth: var(--checkbox-size);\n\t\theight: var(--checkbox-size);\n\t\tdisplay: inline-block;\n\t}\n\n\t.checkbox-icon {\n\t\tfloat: left;\n\t\twidth: var(--checkbox-icon-size);\n\t}\n</style>\n\n<script>\n\texports.widget = Widgets.create({\n\t\tonLoad: function(data) {\n\t\t\tif (this._isBooleanChoice())\n\t\t\t\tthis._createChoiceInput(data.value);\n\t\t\telse\n\t\t\t\tthis._createCheckboxInput(data.value);\n\t\t\t\n\t\t\tthis.loaded();\n\t\t},\n\t\n\t\t_setValue: function(value, displayValue) {\n\t\t\tvalue = Object.isTrue(value);\n\t\t\t\n\t\t\tif (this._isBooleanChoice())\n\t\t\t\tthis.choiceWidget.setValue(value ? '1' : '0');\n\t\t\telse\n\t\t\t\tthis._checkboxSetValue(value);\n\t\t},\n\t\t\n\t\t_isBooleanChoice: function() {\n\t\t\treturn (Object.isTrue(this.attributes.use_choice) || Object.isTrue(this.attributes.filter_mode));\n\t\t},\n\t\t\n\t\t_createChoiceInput: function(value) {\n\t\t\tthis.choiceWidget = new WidgetManager().newWidget({\n\t\t\t\tname: \"bool_\" + this.name,\n\t\t\t\ttype: 'choice',\n\t\t\t\tattributes: {\n\t\t\t\t\t\"choices\": [{\n\t\t\t\t\t\tlabel: this.attributes.true_label || 'True',\n\t\t\t\t\t\tvalue: '1'\n\t\t\t\t\t}, {\n\t\t\t\t\t\tlabel: this.attributes.false_label || 'False',\n\t\t\t\t\t\tvalue: '0'\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t}, (Object.isTrue(value) ? '1' : '0'));\n\t\n\t\t\tthis.choiceWidget.addChangeListener($.proxy(this.changed, this));\n\t\t\tthis.choiceWidget.load(this.container);\n\t\t},\n\t\n\t\t_createCheckboxInput: function(value) {\n\t\t\tthis.displayInput = $('<button/>', {\n\t\t\t\t\"class\": \"form-control checkbox-button\",\n\t\t\t\t\"data-checked\": Object.isTrue(value)\n\t\t\t});\n\t\t\t\n\t\t\tvar checkIcon = $('<span/>', { \"class\": \"checkbox-icon fa fa-check\" });\n\t\t\tcheckIcon.css(\"display\", (Object.isTrue(value)? \"\" : \"none\"));\n\t\t\tthis.displayInput.append(checkIcon);\n\t\n\t\t\tthis.displayInput.on('click', $.proxy(function(e) {\n\t\t\t\tthis._checkboxSetValue(!this.displayInput.data(\"checked\"));\t\t\t\t\n\t\t\t\tthis.changed();\n\t\t\t}, this));\n\t\t\t\n\t\t\tthis.container.append(this.displayInput);\n\t\t},\n\t\t\n\t\t_checkboxSetValue: function(checked) {\n\t\t\tvar checkIcon = this.displayInput.find('span.checkbox-icon');\n\t\t\tif (!Object.isTrue(checked)) {\n\t\t\t\tcheckIcon.css(\"display\", \"none\");\n\t\t\t\tthis.displayInput.data(\"checked\", false);\n\t\t\t} else {\n\t\t\t\tcheckIcon.css(\"display\", \"\");\n\t\t\t\tthis.displayInput.data(\"checked\", true);\n\t\t\t}\n\t\t},\n\t\t\n\t\t_setReadOnly: function() {\n\t\t\tif (this._isBooleanChoice()) {\n\t\t\t\tthis.choiceWidget.setReadOnly(this.isReadOnly());\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (Object.isTrue(this.isReadOnly())) {\n\t\t\t\tthis.displayInput.attr(\"disabled\", \"disabled\");\n\t\t\t} else {\n\t\t\t\tthis.displayInput.removeAttr(\"disabled\");\n\t\t\t}\n\t\t},\n\t\n\t\ttoOpers: function() {\n\t\t\treturn [{\n\t\t\t\tvalue: 'eq',\n\t\t\t\tlabel: TRANSLATE('is')\n\t\t\t}];\n\t\t},\n\t\n\t\ttoValue: function() {\n\t\t\tif (this._isBooleanChoice())\n\t\t\t\treturn this.choiceWidget.toValue();\n\t\t\t\n\t\t\tvar choices = this.displayInput.data(\"choices\");\n\t\t\tif (!Object.isUndefined(choices))\n\t\t\t\treturn choices.value;\n\t\n\t\t\tvar checked = this.displayInput.data('checked');\n\t\t\treturn Object.isTrue(checked);\n\t\t},\n\t\n\t\tclassName: \"WidgetBoolean\"\n\t});\n</script>\n\n```"
            },
            "w" : "100%",
            "h" : "34%"
          }
        },
        "name" : "custom_widgets",
        "owner" : "660abd5d94af4330aa41bd763bcae970",
        "public" : "0",
        "schema_version" : "0",
        "system_updated" : "0"
      }
    }
  }
}